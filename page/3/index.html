<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Nevermore</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Nevermore"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Nevermore"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="一个不会iOS的搬砖工"><meta property="og:type" content="blog"><meta property="og:title" content="Nevermore"><meta property="og:url" content="https://swlfigo.github.io/"><meta property="og:site_name" content="Nevermore"><meta property="og:description" content="一个不会iOS的搬砖工"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://swlfigo.github.io/img/og_image.png"><meta property="article:author" content="Sylar"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://swlfigo.github.io"},"headline":"Nevermore","image":["https://swlfigo.github.io/img/og_image.png"],"author":{"@type":"Person","name":"Sylar"},"publisher":{"@type":"Organization","name":"Nevermore","logo":{"@type":"ImageObject","url":"https://swlfigo.github.io/img/logo.svg"}},"description":"一个不会iOS的搬砖工"}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><meta name="generator" content="Hexo 5.1.1"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Nevermore" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/swlfigo"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-04-28T10:49:01.000Z" title="4/28/2019, 10:49:01 AM">2019-04-28</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-11-13T16:06:33.849Z" title="11/13/2021, 4:06:33 PM">2021-11-14</time></span><span class="level-item"><a class="link-muted" href="/categories/iOS/">iOS</a></span><span class="level-item">20 minutes read (About 2959 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/3f5f/">iOS马赛克图片画笔一种实现思路</a></h1><div class="content"><h1 id="iOS马赛克图片画笔一种实现思路"><a href="#iOS马赛克图片画笔一种实现思路" class="headerlink" title="iOS马赛克图片画笔一种实现思路"></a>iOS马赛克图片画笔一种实现思路</h1><p>先看下效果:</p>
<p><img src="http://sylarimage.oss-cn-shenzhen.aliyuncs.com/2019-03-22-080513.gif" alt="GIF"></p>
<h2 id="功能"><a href="#功能" class="headerlink" title="功能:"></a>功能:</h2><ul>
<li>能实现马赛克画笔功能,并提供多种马赛克图案层叠测试</li>
<li>实现了重做，撤销功能</li>
<li>实现了对原图做处理功能，并不是失真保存图案</li>
<li>优化了处理时 CPU 占用太高问题</li>
</ul>
<h2 id="从DrawRect说起"><a href="#从DrawRect说起" class="headerlink" title="从DrawRect说起"></a>从DrawRect说起</h2><p>在我们平时开发中,难免会遇到画笔，画线问题。第一个想到的是使用 <code>drawRect</code> 方法实现功能。 但是<code>drawRect</code>方法会存在较大的内存问题。</p>
<p><strong>举个栗子:</strong><br>我们需要实现一个画板功能,我们会这样做:</p>
<ol>
<li>新建一个画布</li>
<li>在 <code>touchBegan</code>方法 或者 添加手势方法中 , 保存获得的路径点 , 生成路径</li>
<li>调用 <code>[setNeedDisplay] </code> , 在 <code>-(void)drawRect</code> 方法里面, 绘制出来.</li>
</ol>
<p> 在大量操作之后，内存、CPU 就会出现明显问题。</p>
<p> 那么为什么会有这个问题呢?</p></div><a class="article-more button is-small is-size-7" href="/posts/3f5f/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-04-28T10:49:01.000Z" title="4/28/2019, 10:49:01 AM">2019-04-28</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-11-13T16:06:33.849Z" title="11/13/2021, 4:06:33 PM">2021-11-14</time></span><span class="level-item"><a class="link-muted" href="/categories/iOS/">iOS</a></span><span class="level-item">10 minutes read (About 1446 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/c149/">iOS音量控制界面控制Tips</a></h1><div class="content"><h1 id="iOS音量控制界面控制Tips"><a href="#iOS音量控制界面控制Tips" class="headerlink" title="iOS音量控制界面控制Tips"></a>iOS音量控制界面控制Tips</h1><p><code>AVFoundation</code> 框架提供了播放音频和视频的工具，使用 AVFoundation 基本能满足我们的大部分的播放需求。</p>
<p>在一些需求开发中,通常有一些骚操作需要自定义或者隐藏音量控制界面</p>
<h2 id="MPVolumeView"><a href="#MPVolumeView" class="headerlink" title="MPVolumeView"></a>MPVolumeView</h2><p>先看看官方的解释</p>
<blockquote>
<p>A slider control used to set the system audio output volume, and a button for choosing the audio output route.</p>
<p>Use a volume view to present the user with a slider control for setting the system audio output volume, and a button for choosing the audio output route. When first displayed, the slider’s position reflects the current system audio output volume. As the user drags the slider, the changes update the volume view. If the user presses the device volume buttons while sound is playing, the slider moves to reflect the new volume.</p>
</blockquote>
<p><code>MPVolumeView</code>是系统级别的音量控制View,但是他并<strong>不是一个单例全局获得</strong>,不是通过类似 <code>UIApplication</code> 来获得，他只是简单就能获得</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_systemVolumeView = [[<span class="built_in">MPVolumeView</span> alloc]initWithFrame:<span class="built_in">CGRectZero</span>];</span><br></pre></td></tr></table></figure>



<p>当然不是说只是把他设置<code>Frame</code> 为0就可以简单隐藏，也不能通过设置 <code>_systemVolumeView.hidden = YES</code> 隐藏</p>
<p>通常做法就是将其添加到屏幕外位置达到隐藏效果。</p>
<p>此时需要注意的是，如果你把系统的音量控制View隐藏了，切回后台调节音量也是不会显示的，你要<code>_systemVolueView</code>移除,才会重新出现.</p></div><a class="article-more button is-small is-size-7" href="/posts/c149/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-04-28T10:49:01.000Z" title="4/28/2019, 10:49:01 AM">2019-04-28</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-11-13T16:06:33.849Z" title="11/13/2021, 4:06:33 PM">2021-11-14</time></span><span class="level-item"><a class="link-muted" href="/categories/iOS/">iOS</a></span><span class="level-item">4 minutes read (About 541 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/db98/">ipa 在线下载安装方法（itms-services）</a></h1><div class="content"><h1 id="ipa-在线下载安装方法（itms-services）"><a href="#ipa-在线下载安装方法（itms-services）" class="headerlink" title="ipa 在线下载安装方法（itms-services）"></a>ipa 在线下载安装方法（itms-services）</h1><p>最近在学习 <strong>iOS</strong> 逆向这方面知识，逆向完成后，生成一个ipa包，然后再通过 某P助手 安装到手机上.如果想分享给别人使用还要通过真机编译更加麻烦.(当然手机在证书的绑定机子列表里面,并不是免签名越狱机子那种)<br>然后想起了 <strong>蒲公英</strong> 与 <strong>fir</strong> 平台，(代码分发),就好奇它的实现方法,刚好手机购买了 <strong>JSBox</strong> App，一个非常赞的App，通过自己写脚本可以实现一堆功能。  上面有一个脚本可以本机下载 <strong>iCloud</strong> 上的 ipa 进行安装，就研究脚本原理.</p>
<h1 id="itms-services"><a href="#itms-services" class="headerlink" title="itms-services"></a>itms-services</h1><p>脚本中主要用到的是这个苹果协议 <strong>itms-services</strong> </p>
<blockquote>
<p>itms-services 协议常用于 iOS 企业应用的无线部署，这可在不使用 iTunes 的情况下将内部软件发布或者分享给用户。</p>
</blockquote>
<h1 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h1><h3 id="html部署"><a href="#html部署" class="headerlink" title="html部署"></a>html部署</h3><p>实现在线下载ipa方法其实很简单.首先需要一个网页，<strong>safari</strong> 浏览器访问然后点击链接下载，如同 <code>蒲公英</code> 与 <code>fir</code> 平台做法. 那么 ，链接 a 标签里面应该写什么呢?</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;itms-services://?action=download-manifest&amp;url=https://****/***.plist&quot;</span>&gt;</span> xxx <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>url=</code> 后面plist的链接要求一定是https的，而且必须是公网ssl，自签名及免费的https不可用。<br>此处推荐 <code>码云</code> , <code>Github</code> 等自带 <code>https</code> 平台，plist只需上传托管，通过 Raw 形式查看即可获得 plist 的地址,以<code>码云</code> 代码托管平台为例,</p>
<p><img src="http://sylarimage.oss-cn-shenzhen.aliyuncs.com/2019-03-22-080718.jpg"></p>
<p>点击后即可在浏览器获得地址，然后替换掉 html 标签里面数据 </p>
<h3 id="plist-文件"><a href="#plist-文件" class="headerlink" title="plist 文件"></a>plist 文件</h3><p>plist文件如何写呢？如下:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;</span><br><span class="line">&lt;plist version=&quot;1.0&quot;&gt;</span><br><span class="line">&lt;dict&gt;</span><br><span class="line">	&lt;key&gt;items&lt;/key&gt;</span><br><span class="line">	&lt;array&gt;</span><br><span class="line">		&lt;dict&gt;</span><br><span class="line">			&lt;key&gt;assets&lt;/key&gt;</span><br><span class="line">			&lt;array&gt;</span><br><span class="line">				&lt;dict&gt;</span><br><span class="line">					&lt;key&gt;kind&lt;/key&gt;</span><br><span class="line">					&lt;string&gt;software-package&lt;/string&gt;</span><br><span class="line">					&lt;key&gt;url&lt;/key&gt;</span><br><span class="line">					&lt;string&gt;http://此处为ipa地址,可以使用http或https&lt;/string&gt;</span><br><span class="line">				&lt;/dict&gt;</span><br><span class="line">			&lt;/array&gt;</span><br><span class="line">			&lt;key&gt;metadata&lt;/key&gt;</span><br><span class="line">			&lt;dict&gt;</span><br><span class="line">				&lt;key&gt;bundle-identifier&lt;/key&gt;</span><br><span class="line">				&lt;string&gt;*&lt;/string&gt;</span><br><span class="line">				&lt;key&gt;bundle-version&lt;/key&gt;</span><br><span class="line">				&lt;string&gt;1.0&lt;/string&gt;</span><br><span class="line">				&lt;key&gt;kind&lt;/key&gt;</span><br><span class="line">				&lt;string&gt;software&lt;/string&gt;</span><br><span class="line">				&lt;key&gt;title&lt;/key&gt;</span><br><span class="line">				&lt;string&gt;App名字，可随意，网页点击下载时候弹框标识&lt;/string&gt;</span><br><span class="line">			&lt;/dict&gt;</span><br><span class="line">		&lt;/dict&gt;</span><br><span class="line">	&lt;/array&gt;</span><br><span class="line">&lt;/dict&gt;</span><br><span class="line">&lt;/plist&gt;</span><br></pre></td></tr></table></figure>

<p>那么简单的 ipa在线下载就完成了</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-04-28T10:49:01.000Z" title="4/28/2019, 10:49:01 AM">2019-04-28</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-11-13T16:06:33.845Z" title="11/13/2021, 4:06:33 PM">2021-11-14</time></span><span class="level-item"><a class="link-muted" href="/categories/iOS/">iOS</a></span><span class="level-item">31 minutes read (About 4707 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/6823/">Cocoapod中静态库与动态库</a></h1><div class="content"><p>最近在做一个需求时候，对 <code>Cocoapod</code> 有了一次新的理解，故做下笔记记录一下知识点..</p></div><a class="article-more button is-small is-size-7" href="/posts/6823/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-04-28T10:49:01.000Z" title="4/28/2019, 10:49:01 AM">2019-04-28</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-11-13T16:06:33.849Z" title="11/13/2021, 4:06:33 PM">2021-11-14</time></span><span class="level-item"><a class="link-muted" href="/categories/iOS/">iOS</a></span><span class="level-item">31 minutes read (About 4596 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/68fd/">GCD学习</a></h1><div class="content"><h3 id="重新复习GCD"><a href="#重新复习GCD" class="headerlink" title="重新复习GCD"></a>重新复习GCD</h3><p>–</p>
<p>对GCD重新复习一次，加深了解</p>
<h1 id="多线程概念"><a href="#多线程概念" class="headerlink" title="多线程概念"></a>多线程概念</h1><h4 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h4><ul>
<li>正在进行中的程序被称为进程，负责程序运行的内存分配</li>
<li>每一个进程都有自己独立的虚拟内存空间</li>
</ul>
<h4 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h4><ul>
<li>线程是进程中一个独立的执行路径(控制单元)</li>
<li>一个进程中至少包含一条线程，即主线程</li>
<li>可以将耗时的执行路径(如：网络请求)放在其他线程中执行</li>
</ul>
<h1 id="细说GCD（Grand-Central-Dispatch）"><a href="#细说GCD（Grand-Central-Dispatch）" class="headerlink" title="细说GCD（Grand Central Dispatch）"></a>细说GCD（Grand Central Dispatch）</h1><h3 id="GCD（Grand-Central-Dispatch）-介绍"><a href="#GCD（Grand-Central-Dispatch）-介绍" class="headerlink" title="GCD（Grand Central Dispatch） 介绍"></a>GCD（Grand Central Dispatch） 介绍</h3><p>GCD属于系统级的线程管理，在Dispatch queue中执行需要执行的任务性能非常的高。GCD这块已经开源，地址 <a target="_blank" rel="noopener" href="http://libdispatch.macosforge.org/">http://libdispatch.macosforge.org</a> .GCD中的FIFO队列称为dispatch queue，用来保证先进来的任务先得到执行。</p>
<ul>
<li>GCD 能通过推迟昂贵计算任务并在后台运行它们来改善你的应用的响应性能。</li>
<li>GCD 提供一个易于使用的并发模型而不仅仅只是锁和线程，以帮助我们避开并发陷阱。</li>
<li>GCD 具有在常见模式（例如单例）上用更高性能的原语优化你的代码的潜在能力。</li>
</ul>
<h3 id="GCD概要"><a href="#GCD概要" class="headerlink" title="GCD概要"></a>GCD概要</h3><ul>
<li><p>和operation queue一样都是基于队列的并发编程API，他们通过集中管理大家协同使用的线程池。</p>
</li>
<li><p>公开的5个不同队列：运行在主线程中的main queue，3个不同优先级的后台队列（High Priority Queue，Default Priority Queue，Low Priority Queue），以及一个优先级更低的后台队列Background Priority Queue（用于I/O）</p>
</li>
<li><p>可创建自定义队列：串行或并列队列。自定义一般放在Default Priority Queue和Main Queue里。</p>
</li>
<li><p>操作是在多线程上还是单线程主要是看队列的类型和执行方法，并行队列异步执行才能在多线程，并行队列同步执行就只会在这个并行队列在队列中被分配的那个线程执行。</p>
</li>
</ul></div><a class="article-more button is-small is-size-7" href="/posts/68fd/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-04-28T10:49:01.000Z" title="4/28/2019, 10:49:01 AM">2019-04-28</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-11-13T16:06:33.849Z" title="11/13/2021, 4:06:33 PM">2021-11-14</time></span><span class="level-item"><a class="link-muted" href="/categories/iOS/">iOS</a></span><span class="level-item">26 minutes read (About 3903 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/6244/">iOS Extentsion 入门实战</a></h1><div class="content"><p>最近需求是App接入 <code>Today Extentsion</code> 组件，因为之前没做过这方面，都是摸着石头过河.以下文章都是基于摸索中遇到问题和一些总结，如果有什么不对，请指教一下~</p>
<h1 id="1-App-Extensions简介"><a href="#1-App-Extensions简介" class="headerlink" title="1. App Extensions简介"></a>1. App Extensions简介</h1><h2 id="1-1-什么是App-Extensions"><a href="#1-1-什么是App-Extensions" class="headerlink" title="1.1 什么是App Extensions"></a>1.1 什么是App Extensions</h2><p>从 iOS 8 开始，苹果引入了全新的 App Extension。它是一种扩展，很类似于一些大型软件的插件机制。App Extension 事实上并不是你应用的插件，而是系统的插件，其生命周期是由系统来管理的，所以如果你想做什么坏事还是行不通的…但是 App Extension 分发的载体是应用，也就是说如果你只是单纯想做一个今日面板插件，也需要有个主程序，你的主程序可以什么都不做，也可以提供一些基本的设置和数据。iOS的Extension包括以下:</p>
<p><img src="https://sylarimage.oss-cn-shenzhen.aliyuncs.com/20190409160751.png"></p>
<p><img src="https://sylarimage.oss-cn-shenzhen.aliyuncs.com/20190409160833.png"></p>
<p>文章用到的是 <code>Today Extension</code>,用于 iPhone 的今日插件</p></div><a class="article-more button is-small is-size-7" href="/posts/6244/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-04-28T10:49:01.000Z" title="4/28/2019, 10:49:01 AM">2019-04-28</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-11-13T16:06:33.849Z" title="11/13/2021, 4:06:33 PM">2021-11-14</time></span><span class="level-item"><a class="link-muted" href="/categories/iOS/">iOS</a></span><span class="level-item">an hour read (About 7946 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/5222/">高性能iOS应用开发</a></h1><div class="content"><p>最近读《高性能iOS应用开发》一书，重新了解了下iOS中内存模型与一些开发中注意事项，并摘抄书中知识点做了下笔记，另外原来不了解方面知识也做了相关资料搜索作笔记补充。<strong>（如有错误欢迎指正）</strong></p>
<p><img src="http://sylarimage.oss-cn-shenzhen.aliyuncs.com/2019-03-22-080557.jpg"></p>
<h1 id="一-开始"><a href="#一-开始" class="headerlink" title="一. 开始"></a>一. 开始</h1><h2 id="1-移动应用的性能"><a href="#1-移动应用的性能" class="headerlink" title="1. 移动应用的性能"></a>1. 移动应用的性能</h2><h2 id="1-1-定义性能"><a href="#1-1-定义性能" class="headerlink" title="1.1 定义性能"></a>1.1 定义性能</h2><p>性能是非常模糊的术语,高性能有着多重的含义和丰富的解释方式。（需要测量和监控的）性能指标是其中的 一个关注点，（实际上收集数据的）测量是另一个关注点。</p>
<h2 id="1-2-性能指标"><a href="#1-2-性能指标" class="headerlink" title="1.2 性能指标"></a>1.2 性能指标</h2><p>性能指标是面向用户的各种属性。每个属性可能是一个或多个可测量工程参数的一个要素。</p>
<h3 id="1-2-1-内存"><a href="#1-2-1-内存" class="headerlink" title="1.2.1 内存"></a>1.2.1 内存</h3><p>内存涉及运行应用所需的 RAM 最小值，以及应用消耗的内存平均值和峰值。最小内存值 会严重限制硬件，而更高的内存平均值和峰值意味着更多的后台应用会被强制关闭。<br>同时还要确保没有泄漏内存。随时间流逝而持续增长的内存消耗意味着，应用很可能会因 为内存不足的异常而崩溃。</p>
<h3 id="1-2-2-电量消耗"><a href="#1-2-2-电量消耗" class="headerlink" title="1.2.2 电量消耗"></a>1.2.2 电量消耗</h3><p>电量消耗不仅仅与计算 CPU 周期有关，还包括高效地使用硬件。除了要实现电量消耗最小化，还要确保不会影响用户体验。</p>
<h3 id="1-2-3-初始化时间"><a href="#1-2-3-初始化时间" class="headerlink" title="1.2.3 初始化时间"></a>1.2.3 初始化时间</h3><p>应用在启动时应执行刚好够用的任务以完成初始化，从而满足用户的使用需求。执行这些 任务消耗的时间就是应用的初始化时间。 刚好够用是一个开放式用语——<strong>正确的平衡点取 决于应用的需要。</strong></p>
<h3 id="1-2-4-执行速度"><a href="#1-2-4-执行速度" class="headerlink" title="1.2.4 执行速度"></a>1.2.4 执行速度</h3><p>一旦启动应用，用户总是希望它可以尽可能快地工作。一切必要的处理都应该在尽可能短 的时间内完成。</p>
<h3 id="1-2-5-响应速度"><a href="#1-2-5-响应速度" class="headerlink" title="1.2.5 响应速度"></a>1.2.5 响应速度</h3><p>每个应用都应该快速地响应用户交互。在应用中所做的一切优化和权衡最终都应该体现在 响应速度上。</p>
<h3 id="1-2-6-本地存储"><a href="#1-2-6-本地存储" class="headerlink" title="1.2.6 本地存储"></a>1.2.6 本地存储</h3><p>针对任何在服务器上存储数据或通过外部来源刷新数据的应用，开发人员应该对本地存储 的使用有所规划，以便应用具备离线浏览的能力。<strong>如果你的应用使用了本地存储，那么请提供一个清除数据的选项。</strong></p>
<h3 id="1-2-7-互操作性"><a href="#1-2-7-互操作性" class="headerlink" title="1.2.7 互操作性"></a>1.2.7 互操作性</h3><p>用户可能会使用多个应用来完成某个任务，这就需要这些应用直接提供互操作的能力。</p>
<h3 id="1-2-8-网络环境"><a href="#1-2-8-网络环境" class="headerlink" title="1.2.8 网络环境"></a>1.2.8 网络环境</h3><p>移动设备会在不同网络环境下使用。为了确保能够提供最好的用户体验，你的应用应当适 应各种网络条件：</p>
<ul>
<li><p>高带宽稳定网络</p>
</li>
<li><p>低带宽稳定网络</p>
</li>
<li><p>高带宽不稳定网络</p>
</li>
<li><p>低带宽不稳定网络</p>
</li>
<li><p>无网络</p>
</li>
</ul>
<h3 id="1-2-9-安全"><a href="#1-2-9-安全" class="headerlink" title="1.2.9 安全"></a>1.2.9 安全</h3><p>安全对移动应用来说是最重要的，因为敏感信息可能会在应用间共享。因此，对所有通信 以及本地数据和共享数据进行加密就显得尤为重要了。<br>实现安全需要更多的计算、内存和存储，但这与最大化运行速度、最小化内存和存储使用 的目标相冲突。</p></div><a class="article-more button is-small is-size-7" href="/posts/5222/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-04-28T10:49:01.000Z" title="4/28/2019, 10:49:01 AM">2019-04-28</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-11-13T16:06:33.849Z" title="11/13/2021, 4:06:33 PM">2021-11-14</time></span><span class="level-item"><a class="link-muted" href="/categories/iOS/">iOS</a></span><span class="level-item">an hour read (About 11352 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/5338/">YYCache阅读学习</a></h1><div class="content"><h1 id="YYCache-阅读学习"><a href="#YYCache-阅读学习" class="headerlink" title="YYCache 阅读学习"></a>YYCache 阅读学习</h1><p><a target="_blank" rel="noopener" href="https://github.com/ibireme/YYCache">官网</a> 介绍如下：</p>
<p>高性能 iOS 缓存框架。<a target="_blank" rel="noopener" href="https://github.com/ibireme/YYKit">YYKit</a> 组件之一。</p>
<h2 id="性能-摘自官网"><a href="#性能-摘自官网" class="headerlink" title="性能:(摘自官网)"></a>性能:(摘自官网)</h2><p>iPhone 6 上，内存缓存每秒响应次数 (越高越好): </p>
<p><img src="http://sylarimage.oss-cn-shenzhen.aliyuncs.com/2019-03-22-081847.jpg" alt="test15169495589776"></p>
<p>iPhone 6 上，磁盘缓存每秒响应次数 (越高越好): </p>
<p><img src="http://sylarimage.oss-cn-shenzhen.aliyuncs.com/2019-03-22-081859.jpg" alt="test15169495840565"></p>
<h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><ul>
<li>LRU: 缓存支持 LRU (least-recently-used) 淘汰算法。</li>
<li>缓存控制: 支持多种缓存控制方法：总数量、总大小、存活时间、空闲空间。</li>
<li>兼容性: API 基本和 NSCache 保持一致, 所有方法都是线程安全的。</li>
<li>内存缓存<ul>
<li>对象释放控制: 对象的释放(release) 可以配置为同步或异步进行，可以配置在主线程或后台线程进行。</li>
<li>自动清空: 当收到内存警告或 App 进入后台时，缓存可以配置为自动清空。</li>
</ul>
</li>
<li>磁盘缓存<ul>
<li>可定制性: 磁盘缓存支持自定义的归档解档方法，以支持那些没有实现 NSCoding 协议的对象。</li>
<li>存储类型控制: 磁盘缓存支持对每个对象的存储类型 (SQLite/文件) 进行自动或手动控制，以获得更高的存取性能。</li>
</ul>
</li>
</ul></div><a class="article-more button is-small is-size-7" href="/posts/5338/#more">Read more</a></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/2/">Previous</a></div><div class="pagination-next is-invisible is-hidden-mobile"><a href="/page/4/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><a class="pagination-link" href="/page/2/">2</a></li><li><a class="pagination-link is-current" href="/page/3/">3</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="http://sylarimage.oss-cn-shenzhen.aliyuncs.com/2019-07-25-032947.jpg" alt="Sylar"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Sylar</p><p class="is-size-6 is-block">一个不会iOS的搬砖工</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>GuangZhou,China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">28</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">3</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">3</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/swlfigo" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/swlfigo"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Instagram" href="https://www.instagram.com/sylar.su/"><i class="fab fa-instagram"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="http://roadmap.isylar.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">iOS-RoadMap</span></span><span class="level-right"><span class="level-item tag">roadmap.isylar.com</span></span></a></li><li><a class="level is-mobile" href="http://tech.isylar.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Tech-Tips</span></span><span class="level-right"><span class="level-item tag">tech.isylar.com</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Hackintosh/"><span class="level-start"><span class="level-item">Hackintosh</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Hexo/"><span class="level-start"><span class="level-item">Hexo</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/iOS/"><span class="level-start"><span class="level-item">iOS</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-11-13T14:16:59.000Z">2021-11-13</time></p><p class="title"><a href="/posts/941782149/">iOS视频合成预览预处理</a></p><p class="categories"><a href="/categories/iOS/">iOS</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-11-12T15:17:34.000Z">2021-11-12</time></p><p class="title"><a href="/posts/579292555/">Macos Monterey(12) 黑苹果启动变慢解决</a></p><p class="categories"><a href="/categories/Hackintosh/">Hackintosh</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-04-12T10:09:02.000Z">2021-04-12</time></p><p class="title"><a href="/posts/undefined/">OC下黑苹果以太网已拔出问题</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/posts/2178376574/"><img src="/gallery/gcd-in-swift-thumbnail.jpeg" alt="gcd-in-swift"></a></figure><div class="media-content"><p class="date"><time dateTime="2020-09-21T09:15:48.000Z">2020-09-21</time></p><p class="title"><a href="/posts/2178376574/">gcd-in-swift</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/posts/4106057131/"><img src="https://images.unsplash.com/photo-1581878811201-7d951612a47d?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=2134&amp;q=80" alt="bitcode"></a></figure><div class="media-content"><p class="date"><time dateTime="2020-02-16T11:31:55.000Z">2020-02-16</time></p><p class="title"><a href="/posts/4106057131/">bitcode</a></p><p class="categories"><a href="/categories/iOS/">iOS</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/11/"><span class="level-start"><span class="level-item">November 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/04/"><span class="level-start"><span class="level-item">April 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/09/"><span class="level-start"><span class="level-item">September 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/02/"><span class="level-start"><span class="level-item">February 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/11/"><span class="level-start"><span class="level-item">November 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/10/"><span class="level-start"><span class="level-item">October 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/09/"><span class="level-start"><span class="level-item">September 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/04/"><span class="level-start"><span class="level-item">April 2019</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Hackintosh/"><span class="tag">Hackintosh</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iOS/"><span class="tag">iOS</span><span class="tag">20</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Nevermore" height="28"></a><p class="is-size-7"><span>&copy; 2021 Sylar</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Follow me on GitHub" href="https://github.com/swlfigo"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"live2d-widget-model-wanko"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":true}});</script></body></html>